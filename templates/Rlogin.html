{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Retiree Connect - Experience Sharing & Mentorship">
    <meta name="author" content="">
    <title>{% block title %}Retiree Connect{% endblock %}</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'plugins/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/themify/css/themify-icons.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/fontawesome/css/all.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/magnific-popup/dist/magnific-popup.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/slick-carousel/slick/slick.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/slick-carousel/slick/slick-theme.css' %}">

    <style>
        body {
            background-color: #111;
            color: #bbb;
        }

        /* Navbar */
        .navbar {
            background: #000 !important;
        }

        .navbar .nav-link {
            color: #fff !important;
            transition: 0.3s;
        }

        .navbar .nav-link:hover,
        .navbar .nav-item.active .nav-link {
            color: #b73613 !important;
        }

        .navbar-brand {
            font-weight: bold;
            color: #fff !important;
        }

        .navbar-brand span {
            color: #b73613;
        }

        /* Buttons */
        .btn-brand {
            background-color: #b73613 !important;
            color: #fff !important;
            border-radius: 20px;
            font-size: 0.85rem;
            padding: 4px 14px;
            border: none;
        }

        .btn-brand:hover {
            background-color: #92270e !important;
            color: #fff !important;
        }

        .btn-outline-brand {
            border: 1px solid #b73613;
            color: #b73613;
            border-radius: 20px;
            font-size: 0.85rem;
            padding: 4px 14px;
            transition: 0.3s;
        }

        .btn-outline-brand:hover {
            background-color: #b73613;
            color: #fff;
        }

        /* Footer */
        .footer {
            background: #111;
            color: #bbb;
        }

        .footer h4 {
            color: #b73613;
        }

        .footer a {
            color: #bbb;
            transition: 0.3s;
        }

        .footer a:hover {
            color: #b73613;
        }

        .footer .copyright {
            color: #777;
        }

        .brand-highlight {
            color: #b73613;
        }

        /* Links */
        a {
            color: #b73613;
            text-decoration: none;
        }

        a:hover {
            color: #fff;
            text-decoration: none;
        }

        .navbar .fa-bell {
            font-size: 1.2rem;
            color: #fff;
        }

        .navbar .fa-bell:hover {
            color: #b73613;
        }

        .navbar .nav-link.admin-link {
            color: #f0c674;
            font-weight: 500;
            transition: 0.3s;
        }

        .navbar .nav-link.admin-link:hover {
            color: #b73613;
            text-decoration: underline;
        }

        /* Alert Styles - Clean without background */
        .alert-clean {
            background: #1a1a1a !important;
            color: #fff !important;
            border: 1px solid #b73613 !important;
            border-radius: 8px !important;
            border-left: 4px solid #b73613 !important;
        }

        .btn-close-white {
            filter: invert(1) grayscale(100%) brightness(200%);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Make registration buttons more visible */
        .registration-buttons .btn {
            margin: 5px;
            padding: 8px 16px;
            font-size: 0.9rem;
        }
    </style>

    {% block head %}{% endblock %}
</head>

<body>
    <!-- Navbar -->
    <header class="navigation">
        <nav class="navbar navbar-expand-lg py-3">
            <div class="container">
                <a class="navbar-brand" href="{% url 'home' %}">
                    Re<span class="brand-highlight">Connect</span>
                </a>
                <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarsExample09" aria-controls="navbarsExample09" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="fa fa-bars" style="color:#fff;"></span>
                </button>

                <div class="collapse navbar-collapse text-center" id="navbarsExample09">
                    <ul class="navbar-nav ml-auto">
                        <!-- Public navbar -->
                        <li class="nav-item active"><a class="nav-link" href="{% url 'home' %}">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About</a></li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'public_blog_list' %}">Blogs</a>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="{% url 'admin_login' %}">Admin</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle btn btn-sm btn-outline-brand" href="#"
                                id="registerDropdown" role="button" data-bs-toggle="dropdown"
                                aria-expanded="false">Register</a>
                            <ul class="dropdown-menu" aria-labelledby="registerDropdown" style="background:#1a1a1a;">
                                <li><a class="dropdown-item" href="{% url 'RRegistration' %}"
                                        style="color:#e3dad8;">Register as
                                        Retiree</a></li>
                                <li><a class="dropdown-item" href="{% url 'SRegistration' %}"
                                        style="color:#e3dad8;">Register as
                                        Seeker</a></li>
                            </ul>
                        </li>
                        <li class="nav-item"><a class="btn btn-sm btn-brand ml-2" href="{% url 'Rlogin' %}">Login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

<main>
<!-- Messages Display Section - Only shows specific login-related messages -->
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-5 col-md-7">
            {% for message in messages %}
                {% if "pending approval" in message|lower or "invalid password" in message|lower or "no retiree found" in message|lower or "no seeker found" in message|lower or "select a valid role" in message|lower %}
                <div class="messages">
                    <div class="alert alert-dismissible fade show fade-in alert-clean" 
                         role="alert">
                        <div class="d-flex align-items-center">
                            <div class="flex-grow-1">
                                <i class="fas fa-exclamation-circle me-2" style="color:#b73613;"></i>
                                {{ message }}
                            </div>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    </div>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>

    <section class="py-5" style="background:#111; min-height:100vh; display:flex; align-items:center; justify-content:center;">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-5 col-md-7">
                    <div class="card shadow-lg p-4" style="background:#1a1a1a; border-radius:16px; border:none;">
                        <h3 class="text-center mb-4" style="color:#fff;">User <span style="color:#b73613;">Login</span></h3>
                        
                        <form method="POST" action="{% url 'Rlogin' %}">
                            {% csrf_token %}

                            <!-- Role Selection -->
                            <div class="form-group mb-3">
                                <label style="color:#bbb;">Login As</label>
                                <select class="form-control" name="role" required
                                        style="background:#222; color:#fff; border:1px solid #333;">
                                    <option value="">Select your role</option>
                                    <option value="retiree">Retiree (Mentor)</option>
                                    <option value="seeker">Seeker (Learner)</option>
                                </select>
                            </div>

                            <!-- Email -->
                            <div class="form-group mb-3">
                                <label style="color:#bbb;">Email</label>
                                <input type="email" name="email" class="form-control" required
                                       placeholder="Enter your email"
                                       style="background:#222; color:#fff; border:1px solid #333;">
                            </div>

                            <!-- Password -->
                            <div class="form-group mb-4">
                                <label style="color:#bbb;">Password</label>
                                <input type="password" name="password" class="form-control" required
                                       placeholder="Enter your password"
                                       style="background:#222; color:#fff; border:1px solid #333;">
                            </div>

                            <!-- Submit -->
                            <div class="form-group text-center">
                                <button type="submit" class="btn btn-block" 
                                        style="background:#b73613; color:#fff; border-radius:25px; padding:10px; width:100%;">
                                    Login
                                </button>
                            </div>
                        </form>

                        <!-- Registration Links - Made more visible -->
                        <p class="text-center mt-4" style="color:#bbb;">
                            Don't have an account? 
                        </p>
                        <div class="text-center registration-buttons">
                            <a href="{% url 'RRegistration' %}" class="btn btn-outline-brand" 
                               style="border-color:#b73613; color:#b73613; display:inline-block; margin:5px;">
                                Register as Retiree
                            </a>
                            <a href="{% url 'SRegistration' %}" class="btn btn-outline-brand" 
                               style="border-color:#b73613; color:#b73613; display:inline-block; margin:5px;">
                                Register as Seeker
                            </a>
                        </div>

                        <!-- Additional Help Text -->
                        <div class="mt-4 p-3" style="background:#222; border-radius:8px;">
                            <small style="color:#888;">
                                <i class="fas fa-info-circle me-1"></i>
                                <strong>Note for Retirees:</strong> Your Account Needs Admin Approval.
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

    <!-- Footer -->
    <footer class="footer section py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <h4 class="text-capitalize mb-4">Company</h4>
                    <ul class="list-unstyled footer-menu lh-35">
                        <li><a href="#">Terms & Conditions</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Support</a></li>
                        <li><a href="#">FAQ</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 col-sm-6">
                    <h4 class="text-capitalize mb-4">Quick Links</h4>
                    <ul class="list-unstyled footer-menu lh-35">
                        <li><a href="#">About</a></li>
                        <li><a href="#">Services</a></li>
                        <li><a href="#">Team</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <h4 class="text-capitalize mb-4">Subscribe Us</h4>
                    <p>Subscribe to get the latest news & updates.</p>
                    <form action="#" class="sub-form">
                        <input type="text" class="form-control mb-3" placeholder="Subscribe Now ...">
                        <a href="#" class="btn btn-brand btn-small">Subscribe</a>
                    </form>
                </div>
                <div class="col-lg-3 ml-auto col-sm-6">
                    <div class="logo mb-4">
                        <h3>Re<span class="brand-highlight">Connect</span></h3>
                    </div>
                    <h6><a href="mailto:support@retireeconnect.com">support@retireeconnect.com</a></h6>
                    <a href="tel:+91-9876543210"><span class="h4">+91-9876543210</span></a>
                </div>
            </div>

            <div class="footer-btm pt-4 mt-4 border-top" style="border-color:#333;">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="copyright">
                            &copy; {{ year }} RetireeConnect. All rights reserved.
                        </div>
                    </div>
                    <div class="col-lg-6 text-lg-right text-sm-left">
                        <ul class="list-inline footer-socials">
                            <li class="list-inline-item"><a href="#"><i class="ti-facebook mr-2"></i>Facebook</a></li>
                            <li class="list-inline-item"><a href="#"><i class="ti-twitter mr-2"></i>Twitter</a></li>
                            <li class="list-inline-item"><a href="#"><i class="ti-linkedin mr-2"></i>LinkedIn</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JS -->
    <script src="{% static 'plugins/jquery/jquery.js' %}"></script>
    <script src="{% static 'plugins/bootstrap/js/popper.js' %}"></script>
    <script src="{% static 'plugins/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'plugins/magnific-popup/dist/jquery.magnific-popup.min.js' %}"></script>
    <script src="{% static 'plugins/slick-carousel/slick/slick.min.js' %}"></script>
    <script src="{% static 'plugins/counterup/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'plugins/counterup/jquery.counterup.min.js' %}"></script>
    <script src="{% static 'plugins/google-map/map.js' %}"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                setTimeout(function() {
                    const bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }, 5000);
            });

            const formElements = document.querySelectorAll('.form-control, .btn');
            formElements.forEach(function(element) {
                element.addEventListener('focus', function() {
                    this.style.transform = 'scale(1.02)';
                    this.style.transition = 'transform 0.2s ease';
                });
                
                element.addEventListener('blur', function() {
                    this.style.transform = 'scale(1)';
                });
            });
            const loginForm = document.querySelector('form');
            if (loginForm) {
                loginForm.addEventListener('submit', function() {
                    const submitBtn = this.querySelector('button[type="submit"]');
                    if (submitBtn) {
                        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i> Logging in...';
                        submitBtn.disabled = true;
                    }
                });
            }
        });
    </script>

</body>

</html>